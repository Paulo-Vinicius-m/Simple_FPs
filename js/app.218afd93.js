(function(){"use strict";var e={4021:function(e,l,t){var a=t(5130),n=t(6768),o=t(4232);const i={id:"app"},s={class:"app-main"},r={key:0,class:"debug-section"},c={class:"app-footer"};function d(e,l,t,a,d,m){const u=(0,n.g2)("LogicalFiles"),p=(0,n.g2)("ElementaryProcesses");return(0,n.uX)(),(0,n.CE)("div",i,[l[3]||(l[3]=(0,n.Lk)("header",{class:"app-header"},[(0,n.Lk)("h1",null,"Function Point Analysis Tool"),(0,n.Lk)("p",null,"Manage and analyze logical files for your software projects")],-1)),(0,n.Lk)("main",s,[(0,n.bF)(u,{FPA:e.fpaInstance,refreshTrigger:e.refreshCounter,onReadSQL:e.handleLogicalFilesUpdate},null,8,["FPA","refreshTrigger","onReadSQL"]),(0,n.bF)(p,{FPA:e.fpaInstance,onReadSQL:e.handleLogicalFilesUpdate},null,8,["FPA","onReadSQL"]),e.showDebugInfo?((0,n.uX)(),(0,n.CE)("section",r,[l[2]||(l[2]=(0,n.Lk)("h2",null,"Debug Information",-1)),(0,n.Lk)("details",null,[(0,n.Lk)("summary",null,"Current Logical Files ("+(0,o.v_)(e.currentLogicalFiles.length)+")",1),(0,n.Lk)("pre",null,(0,o.v_)(JSON.stringify(e.currentLogicalFiles,null,2)),1)]),(0,n.Lk)("details",null,[l[1]||(l[1]=(0,n.Lk)("summary",null,"Component State",-1)),(0,n.Lk)("ul",null,[(0,n.Lk)("li",null,"Refresh Counter: "+(0,o.v_)(e.refreshCounter),1),(0,n.Lk)("li",null,"Last Update: "+(0,o.v_)(e.lastUpdateTime),1),(0,n.Lk)("li",null,"Total Attributes: "+(0,o.v_)(e.totalAttributes),1)])])])):(0,n.Q3)("",!0)]),(0,n.Lk)("footer",c,[(0,n.Lk)("button",{onClick:l[0]||(l[0]=(...l)=>e.toggleDebugInfo&&e.toggleDebugInfo(...l)),class:(0,o.C4)(["debug-toggle",{active:e.showDebugInfo}])},(0,o.v_)(e.showDebugInfo?"Hide":"Show")+" Debug Info ",3)])])}t(8111),t(8237);var m=t(144);t(4114);const u={class:"logical-files-container"},p={class:"sql-parser-section"},g={class:"input-group"},L=["disabled"],E={class:"logical-files-section"},F={key:0,class:"no-files-message"},f={key:1,class:"logical-files-grid"},k={colspan:"2",class:"table-title"},v=["title"],y={colspan:"1",class:"table-title"},h=["onClick","title"],b={key:0},w={colspan:"3",class:"lf-description-cell"},T={class:"dataElement-name"},P={class:"dataElement-type"},C={class:"dataElement-actions"},D=["onClick","title"],I={class:"add-dataElement-row"},A=["onUpdate:modelValue"],N=["onUpdate:modelValue"],S=["onClick","disabled"],R={class:"add-logical-file-section"},U={class:"form-actions"},$=["disabled"],_={class:"logical-file-table"},X={colspan:"3",class:"table-title"},x=["value"],Q={colspan:"3",class:"lf-description-cell"},O={class:"data-element-name"},K={class:"data-element-type"},V={class:"data-element-actions"},q=["onClick","title"],M={class:"add-data-element-row"},J=["disabled"];function j(e,l,t,i,s,r){return(0,n.uX)(),(0,n.CE)("div",u,[(0,n.Lk)("section",p,[l[10]||(l[10]=(0,n.Lk)("h2",null,"SQL Parser",-1)),(0,n.Lk)("div",g,[(0,n.bo)((0,n.Lk)("textarea",{"onUpdate:modelValue":l[0]||(l[0]=l=>e.sqlInput=l),class:"sql-input",placeholder:"Copy your SQL code here...",rows:"4"},null,512),[[a.Jo,e.sqlInput]]),(0,n.Lk)("button",{onClick:l[1]||(l[1]=(...l)=>e.parseSQL&&e.parseSQL(...l)),class:"primary-button",disabled:!e.sqlInput.trim()}," Find Logical Files ",8,L)])]),(0,n.Lk)("section",E,[l[13]||(l[13]=(0,n.Lk)("h2",null,"Logical Files",-1)),e.logicalFiles.length?((0,n.uX)(),(0,n.CE)("div",f,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.logicalFiles,(t=>((0,n.uX)(),(0,n.CE)("table",{key:t.name,class:"logical-file-table"},[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",k,[(0,n.Lk)("button",{class:"alert-button small-button",title:`Remove ${t.name}`},(0,o.v_)(t.type),9,v),(0,n.eW)(" "+(0,o.v_)(t.name),1)]),(0,n.Lk)("th",y,[(0,n.Lk)("button",{onClick:l=>e.removeLogicalFile(t.name),class:"danger-button small-button",title:`Remove ${t.name}`}," Remove ",8,h)])]),t.description?((0,n.uX)(),(0,n.CE)("tr",b,[(0,n.Lk)("td",w,[(0,n.Lk)("em",null,(0,o.v_)(t.description),1)])])):(0,n.Q3)("",!0),l[12]||(l[12]=(0,n.Lk)("tr",null,[(0,n.Lk)("th",{class:"column-header"},"Data Element Name"),(0,n.Lk)("th",{class:"column-header"},"Data Element Type"),(0,n.Lk)("th",{class:"column-header"},"Actions")],-1))]),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(t.dataElements,(l=>((0,n.uX)(),(0,n.CE)("tr",{key:l.name,class:"dataElement-row"},[(0,n.Lk)("td",T,(0,o.v_)(l.name),1),(0,n.Lk)("td",P,(0,o.v_)(l.dtype),1),(0,n.Lk)("td",C,[(0,n.Lk)("button",{onClick:a=>e.removeDataElementFromLogicalFile(t.name,l.name),class:"danger-button small-button",title:`Remove ${l.name} from ${t.name}`}," Remove ",8,D)])])))),128)),(0,n.Lk)("tr",I,[(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":l=>e.newDataElements[t.name].name=l,type:"text",class:"dataElement-input",placeholder:"Data Element Name",maxlength:"50"},null,8,A),[[a.Jo,e.newDataElements[t.name].name]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":l=>e.newDataElements[t.name].dtype=l,type:"text",class:"dataElement-input",placeholder:"Data Element Type",maxlength:"30"},null,8,N),[[a.Jo,e.newDataElements[t.name].dtype]])]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{onClick:l=>e.addDataElementToLogicalFile(t.name,e.newDataElements[t.name]),class:"success-button small-button",disabled:!e.newDataElements[t.name]?.name?.trim()||!e.newDataElements[t.name]?.dtype?.trim(),title:"Add new data element"}," Add ",8,S)])])])])))),128))])):((0,n.uX)(),(0,n.CE)("div",F,l[11]||(l[11]=[(0,n.Lk)("p",null,"No logical files found. Parse SQL code or add files manually.",-1)])))]),(0,n.Lk)("section",R,[l[15]||(l[15]=(0,n.Lk)("h2",null,"Add New Logical File",-1)),(0,n.Lk)("div",U,[(0,n.Lk)("button",{onClick:l[2]||(l[2]=(...l)=>e.createNewLogicalFile&&e.createNewLogicalFile(...l)),class:"primary-button",disabled:!e.newLogicalFileForm.name.trim()||!e.newLogicalFileForm.dataElements[0].name.trim()||!e.newLogicalFileForm.dataElements[0].dtype.trim()}," Add Logical File ",8,$)]),(0,n.Lk)("table",_,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",X,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":l[3]||(l[3]=l=>e.newLogicalFileForm.type=l),class:"form-input",style:{"margin-right":"1%"},title:"Select Logical File Type"},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(Object.values(e.LFType),(e=>((0,n.uX)(),(0,n.CE)("option",{key:e,value:e},(0,o.v_)(e),9,x)))),128))],512),[[a.u1,e.newLogicalFileForm.type]]),e.newLogicalFileForm.type===e.LFType.RecordElementType?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"text",class:"form-input",id:"parentName","onUpdate:modelValue":l[4]||(l[4]=l=>e.newLogicalFileForm.parentName=l),placeholder:"Parent Logical File Name"},null,512)),[[a.Jo,e.newLogicalFileForm.parentName]]):(0,n.Q3)("",!0),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-input","onUpdate:modelValue":l[5]||(l[5]=l=>e.newLogicalFileForm.name=l),placeholder:"Logical File Name"},null,512),[[a.Jo,e.newLogicalFileForm.name]])])]),(0,n.Lk)("tr",null,[(0,n.Lk)("td",Q,[(0,n.bo)((0,n.Lk)("input",{class:"form-input","onUpdate:modelValue":l[6]||(l[6]=l=>e.newLogicalFileForm.description=l),placeholder:"Description (optional)"},null,512),[[a.Jo,e.newLogicalFileForm.description]])])]),l[14]||(l[14]=(0,n.Lk)("tr",null,[(0,n.Lk)("th",{class:"column-header"},"Data Element Name"),(0,n.Lk)("th",{class:"column-header"},"Data Element Type"),(0,n.Lk)("th",{class:"column-header"},"Actions")],-1))]),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.newLogicalFileForm.dataElements.slice(0,-1),((l,t)=>((0,n.uX)(),(0,n.CE)("tr",{class:"data-element-row",key:t},[(0,n.Lk)("td",O,(0,o.v_)(l.name),1),(0,n.Lk)("td",K,(0,o.v_)(l.dtype),1),(0,n.Lk)("td",V,[(0,n.Lk)("button",{onClick:l=>e.newLogicalFileForm.dataElements.splice(t,1),class:"danger-button small-button",title:`Remove ${l.name} from ${e.newLogicalFileForm.name}`}," Remove ",8,q)])])))),128)),(0,n.Lk)("tr",M,[(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":l[7]||(l[7]=l=>e.newLogicalFileForm.dataElements[e.newLogicalFileForm.dataElements.length-1].name=l),type:"text",class:"dataElement-input",placeholder:"Data Element Name",maxlength:"50"},null,512),[[a.Jo,e.newLogicalFileForm.dataElements[e.newLogicalFileForm.dataElements.length-1].name]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":l[8]||(l[8]=l=>e.newLogicalFileForm.dataElements[e.newLogicalFileForm.dataElements.length-1].dtype=l),type:"text",class:"dataElement-input",placeholder:"Data Element Type",maxlength:"30"},null,512),[[a.Jo,e.newLogicalFileForm.dataElements[e.newLogicalFileForm.dataElements.length-1].dtype]])]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{onClick:l[9]||(l[9]=l=>e.newLogicalFileForm.dataElements.push({name:"",dtype:""})),class:"success-button small-button",disabled:!e.newLogicalFileForm.dataElements[e.newLogicalFileForm.dataElements.length-1]?.name?.trim()||!e.newLogicalFileForm.dataElements[e.newLogicalFileForm.dataElements.length-1]?.dtype?.trim(),title:"Add new data element"}," Add ",8,J)])])])])])])}t(2489),t(7588),t(3579);var B=t(1114);t(116);var W,Y;(function(e){e["ExternalInput"]="EI",e["ExternalOutput"]="EO",e["ExternalInquiry"]="EQ"})(W||(W={})),function(e){e["InternalLogicalFile"]="ILF",e["ExternalInterfaceFile"]="EIF",e["RecordElementType"]="RET"}(Y||(Y={}));const G=/CREATE TABLE IF NOT EXISTS\s+"([\w_]+)"\s*\(([\s\S]+?)\);/g,z=/"([\w_]+)"\s+([\w]+)/g;class H{constructor(){(0,B.A)(this,"logicalFiles",[]),(0,B.A)(this,"elementaryProcesses",[])}readSQL(e){let l;this.logicalFiles=[];while(null!==(l=G.exec(e))){const e=l[2].toString();let t;this.logicalFiles.push({name:l[1].toString(),type:Y.InternalLogicalFile,dataElements:[]});while(null!==(t=z.exec(e)))this.logicalFiles[this.logicalFiles.length-1].dataElements.push({name:t[1].toString(),dtype:t[2].toString()})}}addLF(e,l,t,a,n){this.logicalFiles.some((l=>l.name===e))?console.warn(`Logical File with name "${e}" already exists. Skipping addition.`):this.logicalFiles.push({name:e,type:l,dataElements:t,description:a,parentName:n})}addDescriptionToLF(e,l){const t=this.logicalFiles.find((l=>l.name===e));t?t.description=l:console.error(`Logical File "${e}" not found. Cannot add description.`)}addDataElementToLF(e,l){const t=this.logicalFiles.find((l=>l.name===e));t?t.dataElements.some((e=>e.name===l.name))?console.warn(`Data Element "${l.name}" already exists in Logical File "${e}". Skipping addition.`):t.dataElements.push(l):console.error(`Logical File "${e}" not found. Cannot add data element.`)}removeLF(e){this.elementaryProcesses.forEach((l=>{l.dataElements=l.dataElements.filter((l=>l.name!==e))})),this.logicalFiles=this.logicalFiles.filter((l=>l.type!==Y.RecordElementType&&l.parentName!==e)),this.logicalFiles=this.logicalFiles.filter((l=>l.name!==e))}removeDataElementFromLF(e,l){const t=this.logicalFiles.find((l=>l.name===e));t?(this.elementaryProcesses.forEach((t=>{t.dataElements=t.dataElements.filter((t=>!(t.logicalFileName===e&&t.name===l)))})),t.dataElements=t.dataElements.filter((e=>e.name!==l))):console.error(`Logical File "${e}" not found. Cannot remove data element.`)}getLFs(){return this.logicalFiles}addEP(e,l,t){for(const{name:n,logicalFileName:o}of t){const l=this.logicalFiles.find((e=>e.name===o));if(!l)return void console.error(`Logical File "${o}" referenced in Elementary Process "${e}" does not exist.`);for(const t of l.dataElements)if(!l.dataElements.some((e=>e.name===t.name)))return void console.error(`Data Element "${t.name}" in Logical File "${o}" referenced in Elementary Process "${e}" does not exist.`)}const a=`${l}_${this.elementaryProcesses.filter((e=>e.type===l)).length+1}`;this.elementaryProcesses.push({id:a,description:e,type:l,dataElements:t})}getEPs(){return this.elementaryProcesses}removeEP(e){this.elementaryProcesses=this.elementaryProcesses.filter((l=>l.id!==e))}removeDETsFromEP(e,l,t){const a=this.elementaryProcesses.find((l=>l.id===e));a?a.dataElements=a.dataElements.filter((e=>!(e.logicalFileName===l&&e.name===t))):console.error(`Elementary Process "${e}" not found. Cannot remove DET.`)}addDETToEP(e,l){const t=this.elementaryProcesses.find((l=>l.id===e));if(!t)return void console.error(`Elementary Process "${e}" not found. Cannot add DET.`);const a=this.logicalFiles.find((e=>e.name===l.logicalFileName));a?a.dataElements.some((e=>e.name===l.name))?t.dataElements.some((e=>e.logicalFileName===l.logicalFileName&&e.name===l.name))?console.warn(`DET "${l.name}" from "${l.logicalFileName}" already exists in EP "${e}". Skipping addition.`):t.dataElements.push(l):console.error(`Data Element "${l.name}" in Logical File "${l.logicalFileName}" referenced in Elementary Process "${t.description}" does not exist.`):console.error(`Logical File "${l.logicalFileName}" referenced in Elementary Process "${t.description}" does not exist.`)}}var Z=(0,n.pM)({name:"LogicalFiles",props:{FPA:{type:H,required:!0},refreshTrigger:{type:Number,default:0}},emits:["readSQL"],setup(e,{emit:l}){const t=(0,m.KR)(0),a=(0,m.KR)(""),o=(0,m.KR)({name:"",type:Y.InternalLogicalFile,dataElements:[{name:"",dtype:""}],description:"",parentName:""}),i=(0,m.KR)({}),s=(0,n.EW)((()=>(t.value,e.FPA.getLFs()))),r=()=>{s.value.forEach((e=>{i.value[e.name]||(i.value[e.name]={name:"",dtype:""})}))},c=()=>{t.value++,r()},d=e=>{i.value[e]&&(i.value[e].name="",i.value[e].dtype="")},u=()=>{if(a.value.trim())try{e.FPA.readSQL(a.value),c(),l("readSQL"),console.log("Successfully parsed SQL and found logical files:",s.value)}catch(t){console.error("Error parsing SQL:",t)}else console.warn("SQL input is empty")},p=(t,a,n,s,r)=>{if(t.trim())if(n.length&&n[0]?.name?.trim()&&n[0]?.dtype?.trim()){if(a===Y.RecordElementType){if(!r?.trim())return void console.warn("Parent logical file name is required for Record Element Type");if(!e.FPA.getLFs().some((e=>e.name===r.trim())))return void console.warn(`Parent logical file "${r}" does not exist`)}if(e.FPA.getLFs().some((e=>e.name===t)))console.warn(`Logical file with name "${t}" already exists`);else try{e.FPA.addLF(t.trim(),a,n,s?.trim()||void 0,r?.trim()||void 0),i.value[t]={name:"",dtype:""},o.value={name:"",type:Y.InternalLogicalFile,dataElements:[{name:"",dtype:""}],description:"",parentName:""},c(),l("readSQL"),console.log(`Successfully added logical file: ${t}`)}catch(d){console.error("Error adding logical file:",d)}}else console.warn("At least one valid data element is required");else console.warn("Logical file name cannot be empty")},g=(t,a)=>{if(a.name.trim()&&a.dtype.trim())try{e.FPA.addDataElementToLF(t,{name:a.name.trim(),dtype:a.dtype.trim()}),d(t),c(),l("readSQL"),console.log(`Successfully added data element ${a.name} to ${t}`)}catch(n){console.error("Error adding data element:",n)}else console.warn("Data element name and type are required")},L=(t,a)=>{try{e.FPA.removeDataElementFromLF(t,a),c(),l("readSQL"),console.log(`Successfully removed data element ${a} from ${t}`)}catch(n){console.error("Error removing data element:",n)}},E=t=>{try{e.FPA.removeLF(t),c(),l("readSQL"),console.log(`Successfully removed logical file: ${t}`)}catch(a){console.error("Error removing logical file:",a)}},F=()=>{const{name:e,type:l,dataElements:t,description:a,parentName:n}=o.value,i=t.filter((e=>e.name.trim()&&e.dtype.trim()));e.trim()&&i.length?l!==Y.RecordElementType||n?.trim()?(console.log(`Creating new logical file: ${e} with data elements:`,i),p(e,l,i,a,n)):console.warn("Parent logical file name is required for Record Element Type"):console.warn("Logical file name and at least one data element are required")};return(0,n.wB)((()=>e.refreshTrigger),(()=>{c()})),(0,n.sV)((()=>{r()})),{logicalFiles:s,sqlInput:a,newLogicalFileForm:o,newDataElements:i,parseSQL:u,createNewLogicalFile:F,addDataElementToLogicalFile:g,removeDataElementFromLogicalFile:L,removeLogicalFile:E,triggerUpdate:c,LFType:Y}}}),ee=t(1241);const le=(0,ee.A)(Z,[["render",j],["__scopeId","data-v-1a10fbb0"]]);var te=le;const ae={class:"ep-container"},ne={class:"add-ep-section"},oe={class:"new-ep-form"},ie={class:"form-row"},se={class:"form-group"},re={class:"form-group"},ce=["value"],de={class:"form-actions"},me=["disabled"],ue={class:"ep-list-section"},pe={key:0,class:"no-eps-message"},ge={key:1,class:"ep-grid"},Le={class:"ep-table"},Ee={class:"table-title"},Fe={colspan:"3"},fe=["onClick"],ke={class:"det-name"},ve={class:"det-type"},ye={class:"det-actions"},he=["onClick"],be={key:0,class:"add-det-row"},we=["onUpdate:modelValue"],Te=["value"],Pe=["onUpdate:modelValue","disabled"],Ce=["value"],De={class:"det-actions"},Ie=["onClick","disabled"];function Ae(e,l,t,i,s,r){return(0,n.uX)(),(0,n.CE)("div",ae,[(0,n.Lk)("section",ne,[l[5]||(l[5]=(0,n.Lk)("h2",null,"Add New Elementary Process",-1)),(0,n.Lk)("div",oe,[(0,n.Lk)("div",ie,[(0,n.Lk)("div",se,[l[3]||(l[3]=(0,n.Lk)("label",{for:"ep-description"},"Description",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"ep-description",class:"form-input","onUpdate:modelValue":l[0]||(l[0]=l=>e.newEPDescription=l),placeholder:"e.g., Register new user"},null,512),[[a.Jo,e.newEPDescription]])]),(0,n.Lk)("div",re,[l[4]||(l[4]=(0,n.Lk)("label",{for:"ep-type"},"Type",-1)),(0,n.bo)((0,n.Lk)("select",{id:"ep-type",class:"form-input","onUpdate:modelValue":l[1]||(l[1]=l=>e.newEPType=l)},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.EPType,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e,value:e},(0,o.v_)(e),9,ce)))),128))],512),[[a.u1,e.newEPType]])]),(0,n.Lk)("div",de,[(0,n.Lk)("button",{onClick:l[2]||(l[2]=(...l)=>e.addEP&&e.addEP(...l)),class:"primary-button",disabled:!e.newEPDescription.trim()},"Add EP",8,me)])])])]),(0,n.Lk)("section",ue,[l[9]||(l[9]=(0,n.Lk)("h2",null,"Elementary Processes",-1)),0===e.elementaryProcesses.length?((0,n.uX)(),(0,n.CE)("div",pe," No elementary processes have been added yet. ")):((0,n.uX)(),(0,n.CE)("div",ge,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.elementaryProcesses,(t=>((0,n.uX)(),(0,n.CE)("div",{key:t.id,class:"ep-card"},[(0,n.Lk)("table",Le,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",Ee,[(0,n.Lk)("th",Fe,[(0,n.Lk)("span",null,(0,o.v_)(t.description)+" ("+(0,o.v_)(t.id)+") - "+(0,o.v_)(t.type),1),(0,n.Lk)("button",{onClick:l=>e.removeEP(t.id),class:"danger-button small-button",style:{float:"right"}},"Remove EP",8,fe)])]),l[6]||(l[6]=(0,n.Lk)("tr",{class:"column-header"},[(0,n.Lk)("th",null,"Logical File"),(0,n.Lk)("th",null,"Data Element"),(0,n.Lk)("th",null,"Actions")],-1))]),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(t.dataElements,(l=>((0,n.uX)(),(0,n.CE)("tr",{key:`${l.logicalFileName}_${l.name}`,class:"det-row"},[(0,n.Lk)("td",ke,(0,o.v_)(l.logicalFileName),1),(0,n.Lk)("td",ve,(0,o.v_)(l.name),1),(0,n.Lk)("td",ye,[(0,n.Lk)("button",{onClick:a=>e.removeDET(t.id,l.logicalFileName,l.name),class:"danger-button small-button"},"Remove",8,he)])])))),128)),e.detInputs[t.id]?((0,n.uX)(),(0,n.CE)("tr",be,[(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":l=>e.detInputs[t.id].logicalFile=l,class:"attribute-input"},[l[7]||(l[7]=(0,n.Lk)("option",{disabled:"",value:""},"Select Logical File",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.logicalFiles,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e.name,value:e.name},(0,o.v_)(e.name),9,Te)))),128))],8,we),[[a.u1,e.detInputs[t.id].logicalFile]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":l=>e.detInputs[t.id].dataElement=l,class:"attribute-input",disabled:!e.detInputs[t.id].logicalFile},[l[8]||(l[8]=(0,n.Lk)("option",{disabled:"",value:""},"Select Data Element",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.availableDETs[e.detInputs[t.id].logicalFile]?.dataElements,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e.name,value:e.name},(0,o.v_)(e.name),9,Ce)))),128))],8,Pe),[[a.u1,e.detInputs[t.id].dataElement]])]),(0,n.Lk)("td",De,[(0,n.Lk)("button",{onClick:l=>e.addDET(t.id),class:"success-button small-button",disabled:!e.detInputs[t.id].dataElement},"Add DET",8,Ie)])])):(0,n.Q3)("",!0)])])])))),128))]))])])}var Ne=(0,n.pM)({name:"ElementaryProcesses",props:{FPA:{type:H,required:!0}},setup(e){const l=(0,m.KR)(0),t=(0,m.KR)(""),a=(0,m.KR)(W.ExternalInput),o=(0,m.KR)({}),i=(0,n.EW)((()=>(l.value,e.FPA.getEPs()))),s=(0,n.EW)((()=>e.FPA.getLFs())),r=(0,n.EW)((()=>{const e={};return s.value.forEach((l=>{e[l.name]=l})),e})),c=()=>{l.value++},d=()=>{i.value.forEach((e=>{o.value[e.id]||(o.value[e.id]={logicalFile:"",dataElement:""})}))},u=()=>{t.value.trim()&&(e.FPA.addEP(t.value,a.value,[]),t.value="",a.value=W.ExternalInput,c(),d())},p=l=>{e.FPA.removeEP(l),c()},g=l=>{const t=o.value[l];t&&t.logicalFile&&t.dataElement&&(e.FPA.addDETToEP(l,{name:t.dataElement,logicalFileName:t.logicalFile}),o.value[l]={logicalFile:"",dataElement:""},c())},L=(l,t,a)=>{e.FPA.removeDETsFromEP(l,t,a),c()};return(0,n.$u)((()=>{d()})),d(),{elementaryProcesses:i,logicalFiles:s,availableDETs:r,newEPDescription:t,newEPType:a,detInputs:o,addEP:u,removeEP:p,addDET:g,removeDET:L,EPType:W}}});const Se=(0,ee.A)(Ne,[["render",Ae],["__scopeId","data-v-29f23026"]]);var Re=Se,Ue=(0,n.pM)({name:"App",components:{LogicalFiles:te,ElementaryProcesses:Re},setup(){const e=new H,l=(0,m.KR)(0),t=(0,m.KR)(""),a=(0,m.KR)(!1),o=(0,n.EW)((()=>e.getLFs())),i=(0,n.EW)((()=>o.value.reduce(((e,l)=>e+l.dataElements.length),0))),s=()=>{console.log("Logical files updated:",o.value),t.value=(new Date).toLocaleTimeString(),l.value++},r=()=>{a.value=!a.value},c=()=>{const l='\n        CREATE TABLE IF NOT EXISTS "Users" (\n            "id" INTEGER NOT NULL UNIQUE,\n            "username" TEXT NOT NULL,\n            "email" TEXT NOT NULL,\n            "created_at" DATETIME DEFAULT CURRENT_TIMESTAMP,\n            PRIMARY KEY("id")\n        );\n        \n        CREATE TABLE IF NOT EXISTS "Posts" (\n            "id" INTEGER NOT NULL UNIQUE,\n            "user_id" INTEGER NOT NULL,\n            "title" TEXT NOT NULL,\n            "content" TEXT,\n            "published" BOOLEAN DEFAULT FALSE,\n            "created_at" DATETIME DEFAULT CURRENT_TIMESTAMP,\n            PRIMARY KEY("id"),\n            FOREIGN KEY("user_id") REFERENCES "Users"("id")\n        );\n      ';e.readSQL(l),s()};return(0,n.wB)(o,((e,l)=>{console.log("Logical files changed:",{previous:l?.length||0,current:e.length,difference:e.length-(l?.length||0)})}),{deep:!0}),(0,n.sV)((()=>{console.log("App component mounted")})),{fpaInstance:e,refreshCounter:l,handleLogicalFilesUpdate:s,showDebugInfo:a,toggleDebugInfo:r,currentLogicalFiles:o,totalAttributes:i,lastUpdateTime:t,loadSampleData:c}}});const $e=(0,ee.A)(Ue,[["render",d]]);var _e=$e,Xe=t(4458);(0,Xe.k)("/Simple_FPs/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}}),(0,a.Ef)(_e).mount("#app")}},l={};function t(a){var n=l[a];if(void 0!==n)return n.exports;var o=l[a]={exports:{}};return e[a].call(o.exports,o,o.exports,t),o.exports}t.m=e,function(){var e=[];t.O=function(l,a,n,o){if(!a){var i=1/0;for(d=0;d<e.length;d++){a=e[d][0],n=e[d][1],o=e[d][2];for(var s=!0,r=0;r<a.length;r++)(!1&o||i>=o)&&Object.keys(t.O).every((function(e){return t.O[e](a[r])}))?a.splice(r--,1):(s=!1,o<i&&(i=o));if(s){e.splice(d--,1);var c=n();void 0!==c&&(l=c)}}return l}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[a,n,o]}}(),function(){t.n=function(e){var l=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(l,{a:l}),l}}(),function(){t.d=function(e,l){for(var a in l)t.o(l,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:l[a]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,l){return Object.prototype.hasOwnProperty.call(e,l)}}(),function(){var e={524:0};t.O.j=function(l){return 0===e[l]};var l=function(l,a){var n,o,i=a[0],s=a[1],r=a[2],c=0;if(i.some((function(l){return 0!==e[l]}))){for(n in s)t.o(s,n)&&(t.m[n]=s[n]);if(r)var d=r(t)}for(l&&l(a);c<i.length;c++)o=i[c],t.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return t.O(d)},a=self["webpackChunksimple_fpa"]=self["webpackChunksimple_fpa"]||[];a.forEach(l.bind(null,0)),a.push=l.bind(null,a.push.bind(a))}();var a=t.O(void 0,[504],(function(){return t(4021)}));a=t.O(a)})();
//# sourceMappingURL=app.218afd93.js.map
(function(){"use strict";var e={2937:function(e,l,t){var a=t(5130),n=t(6768),o=t(4232);const s={id:"app"},i={class:"app-header"},r={class:"app-main"},c={key:0,class:"debug-section"},d={class:"app-footer"};function m(e,l,t,a,m,u){const p=(0,n.g2)("LogicalFiles"),g=(0,n.g2)("ElementaryProcesses"),E=(0,n.g2)("EndOfAnalysis");return(0,n.uX)(),(0,n.CE)("div",s,[(0,n.Lk)("header",i,[l[2]||(l[2]=(0,n.Lk)("h1",null,"Function Point Analysis Tool",-1)),l[3]||(l[3]=(0,n.Lk)("p",null,"Manage and analyze logical files for your software projects",-1)),(0,n.Lk)("button",{onClick:l[0]||(l[0]=(...l)=>e.loadSampleData&&e.loadSampleData(...l)),class:"load-sample-data"}," Load Sample Data ")]),(0,n.Lk)("main",r,[(0,n.bF)(p,{FPA:e.fpaInstance,triggerRefresh:e.refreshLFs,onRefreshLFs:e.handleLFsUpdate},null,8,["FPA","triggerRefresh","onRefreshLFs"]),(0,n.bF)(g,{FPA:e.fpaInstance,triggerRefresh:e.refreshLFs,onRefreshEPs:e.handleEPsUpdate},null,8,["FPA","triggerRefresh","onRefreshEPs"]),e.showDebugInfo?((0,n.uX)(),(0,n.CE)("section",c,[l[5]||(l[5]=(0,n.Lk)("h2",null,"Debug Information",-1)),(0,n.Lk)("details",null,[(0,n.Lk)("summary",null,"Current Logical Files ("+(0,o.v_)(e.currentLogicalFiles.length)+")",1),(0,n.Lk)("pre",null,(0,o.v_)(JSON.stringify(e.currentLogicalFiles,null,2)),1)]),(0,n.Lk)("details",null,[l[4]||(l[4]=(0,n.Lk)("summary",null,"Component State",-1)),(0,n.Lk)("ul",null,[(0,n.Lk)("li",null,"Refresh Counter: "+(0,o.v_)(e.refreshLFs),1),(0,n.Lk)("li",null,"Last Update: "+(0,o.v_)(e.lastUpdateTime),1),(0,n.Lk)("li",null,"Total Attributes: "+(0,o.v_)(e.totalAttributes),1)])])])):(0,n.Q3)("",!0),(0,n.bF)(E,{FPA:e.fpaInstance,refreshTrigger:e.refreshLFs+e.refreshEPs},null,8,["FPA","refreshTrigger"])]),(0,n.Lk)("footer",d,[(0,n.Lk)("button",{onClick:l[1]||(l[1]=(...l)=>e.toggleDebugInfo&&e.toggleDebugInfo(...l)),class:(0,o.C4)(["debug-toggle",{active:e.showDebugInfo}])},(0,o.v_)(e.showDebugInfo?"Hide":"Show")+" Debug Info ",3)])])}t(8111),t(8237);var u=t(144);t(4114);const p={class:"logical-files-container"},g={class:"sql-parser-section"},E={class:"input-group"},L=["disabled"],F={class:"logical-files-section"},f={key:0,class:"no-files-message"},h={key:1,class:"logical-files-grid"},y={colspan:"2",class:"table-title"},k=["title"],v={colspan:"1",class:"table-title"},b=["onClick","title"],w={key:0},P={colspan:"3",class:"lf-description-cell"},T={class:"dataElement-name"},N={class:"dataElement-type"},A={class:"dataElement-actions"},C=["onClick","title"],I={class:"add-dataElement-row"},R=["onUpdate:modelValue"],D=["onUpdate:modelValue"],S=["onClick","disabled"],O={class:"add-logical-file-section"},_={class:"form-actions"},X=["disabled"],U={class:"logical-file-table"},$={colspan:"3",class:"table-title"},x=["value"],K={colspan:"3",class:"lf-description-cell"},J={class:"data-element-name"},Q={class:"data-element-type"},V={class:"data-element-actions"},q=["onClick","title"],M={class:"add-data-element-row"},j=["disabled"];function B(e,l,t,s,i,r){return(0,n.uX)(),(0,n.CE)("div",p,[(0,n.Lk)("section",g,[l[10]||(l[10]=(0,n.Lk)("h2",null,"SQL Parser",-1)),(0,n.Lk)("div",E,[(0,n.bo)((0,n.Lk)("textarea",{"onUpdate:modelValue":l[0]||(l[0]=l=>e.sqlInput=l),class:"sql-input",placeholder:"Copy your SQL code here...",rows:"4"},null,512),[[a.Jo,e.sqlInput]]),(0,n.Lk)("button",{onClick:l[1]||(l[1]=(...l)=>e.parseSQL&&e.parseSQL(...l)),class:"primary-button",disabled:!e.sqlInput.trim()}," Find Logical Files ",8,L)])]),(0,n.Lk)("section",F,[l[13]||(l[13]=(0,n.Lk)("h2",null,"Logical Files",-1)),e.logicalFiles.length?((0,n.uX)(),(0,n.CE)("div",h,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.logicalFiles,(t=>((0,n.uX)(),(0,n.CE)("table",{key:t?.name,class:"logical-file-table"},[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",y,[(0,n.Lk)("button",{class:"alert-button small-button",title:`Remove ${t.name}`},(0,o.v_)(t.type),9,k),(0,n.eW)(" "+(0,o.v_)(t.name),1)]),(0,n.Lk)("th",v,[(0,n.Lk)("button",{onClick:l=>e.removeLogicalFile(t.name),class:"danger-button small-button",title:`Remove ${t.name}`}," Remove ",8,b)])]),t.description?((0,n.uX)(),(0,n.CE)("tr",w,[(0,n.Lk)("td",P,[(0,n.Lk)("em",null,(0,o.v_)(t.description),1)])])):(0,n.Q3)("",!0),l[12]||(l[12]=(0,n.Lk)("tr",null,[(0,n.Lk)("th",{class:"column-header"},"Data Element Name"),(0,n.Lk)("th",{class:"column-header"},"Data Element Type"),(0,n.Lk)("th",{class:"column-header"},"Actions")],-1))]),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(t.dataElements,(l=>((0,n.uX)(),(0,n.CE)("tr",{key:l.name,class:"dataElement-row"},[(0,n.Lk)("td",T,(0,o.v_)(l.name),1),(0,n.Lk)("td",N,(0,o.v_)(l.dtype),1),(0,n.Lk)("td",A,[(0,n.Lk)("button",{onClick:a=>e.removeDataElementFromLogicalFile(t.name,l.name),class:"danger-button small-button",title:`Remove ${l.name} from ${t.name}`}," Remove ",8,C)])])))),128)),(0,n.Lk)("tr",I,[(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":l=>e.newDataElements[t.name].name=l,type:"text",class:"dataElement-input",placeholder:"Data Element Name",maxlength:"50"},null,8,R),[[a.Jo,e.newDataElements[t.name].name]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":l=>e.newDataElements[t.name].dtype=l,type:"text",class:"dataElement-input",placeholder:"Data Element Type",maxlength:"30"},null,8,D),[[a.Jo,e.newDataElements[t.name].dtype]])]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{onClick:l=>e.addDataElementToLogicalFile(t.name,e.newDataElements[t.name]),class:"success-button small-button",disabled:!e.newDataElements[t.name]?.name?.trim()||!e.newDataElements[t.name]?.dtype?.trim(),title:"Add new data element"}," Add ",8,S)])])])])))),128))])):((0,n.uX)(),(0,n.CE)("div",f,l[11]||(l[11]=[(0,n.Lk)("p",null,"No logical files found. Parse SQL code or add files manually.",-1)])))]),(0,n.Lk)("section",O,[l[15]||(l[15]=(0,n.Lk)("h2",null,"Add New Logical File",-1)),(0,n.Lk)("div",_,[(0,n.Lk)("button",{onClick:l[2]||(l[2]=(...l)=>e.createNewLogicalFile&&e.createNewLogicalFile(...l)),class:"primary-button",disabled:!e.newLogicalFileForm.name.trim()||!e.newLogicalFileForm.dataElements[0].name.trim()||!e.newLogicalFileForm.dataElements[0].dtype.trim()}," Add Logical File ",8,X)]),(0,n.Lk)("table",U,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",$,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":l[3]||(l[3]=l=>e.newLogicalFileForm.type=l),class:"form-input",style:{"margin-right":"1%"},title:"Select Logical File Type"},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(Object.values(e.LFType),(e=>((0,n.uX)(),(0,n.CE)("option",{key:e,value:e},(0,o.v_)(e),9,x)))),128))],512),[[a.u1,e.newLogicalFileForm.type]]),e.newLogicalFileForm.type===e.LFType.RecordElementType?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"text",class:"form-input",id:"parentName","onUpdate:modelValue":l[4]||(l[4]=l=>e.newLogicalFileForm.parentName=l),placeholder:"Parent Logical File Name"},null,512)),[[a.Jo,e.newLogicalFileForm.parentName]]):(0,n.Q3)("",!0),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-input","onUpdate:modelValue":l[5]||(l[5]=l=>e.newLogicalFileForm.name=l),placeholder:"Logical File Name"},null,512),[[a.Jo,e.newLogicalFileForm.name]])])]),(0,n.Lk)("tr",null,[(0,n.Lk)("td",K,[(0,n.bo)((0,n.Lk)("input",{class:"form-input","onUpdate:modelValue":l[6]||(l[6]=l=>e.newLogicalFileForm.description=l),placeholder:"Description (optional)"},null,512),[[a.Jo,e.newLogicalFileForm.description]])])]),l[14]||(l[14]=(0,n.Lk)("tr",null,[(0,n.Lk)("th",{class:"column-header"},"Data Element Name"),(0,n.Lk)("th",{class:"column-header"},"Data Element Type"),(0,n.Lk)("th",{class:"column-header"},"Actions")],-1))]),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.newLogicalFileForm.dataElements.slice(0,-1),((l,t)=>((0,n.uX)(),(0,n.CE)("tr",{class:"data-element-row",key:t},[(0,n.Lk)("td",J,(0,o.v_)(l.name),1),(0,n.Lk)("td",Q,(0,o.v_)(l.dtype),1),(0,n.Lk)("td",V,[(0,n.Lk)("button",{onClick:l=>e.newLogicalFileForm.dataElements.splice(t,1),class:"danger-button small-button",title:`Remove ${l.name} from ${e.newLogicalFileForm.name}`}," Remove ",8,q)])])))),128)),(0,n.Lk)("tr",M,[(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":l[7]||(l[7]=l=>e.newLogicalFileForm.dataElements[e.newLogicalFileForm.dataElements.length-1].name=l),type:"text",class:"dataElement-input",placeholder:"Data Element Name",maxlength:"50"},null,512),[[a.Jo,e.newLogicalFileForm.dataElements[e.newLogicalFileForm.dataElements.length-1].name]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":l[8]||(l[8]=l=>e.newLogicalFileForm.dataElements[e.newLogicalFileForm.dataElements.length-1].dtype=l),type:"text",class:"dataElement-input",placeholder:"Data Element Type",maxlength:"30"},null,512),[[a.Jo,e.newLogicalFileForm.dataElements[e.newLogicalFileForm.dataElements.length-1].dtype]])]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{onClick:l[9]||(l[9]=l=>e.newLogicalFileForm.dataElements.push({name:"",dtype:""})),class:"success-button small-button",disabled:!e.newLogicalFileForm.dataElements[e.newLogicalFileForm.dataElements.length-1]?.name?.trim()||!e.newLogicalFileForm.dataElements[e.newLogicalFileForm.dataElements.length-1]?.dtype?.trim(),title:"Add new data element"}," Add ",8,j)])])])])])])}t(2489),t(7588),t(3579);var W=t(1114);t(116),t(1701),t(7642),t(8004),t(3853),t(5876),t(2475),t(5024),t(1698);function Y(e){switch(e){case"Low":return 7;case"Average":return 10;case"High":return 15;default:throw new Error(`Unknown complexity: ${e}`)}}function H(e){switch(e){case"Low":return 5;case"Average":return 7;case"High":return 10;default:throw new Error(`Unknown complexity: ${e}`)}}function G(e){switch(e){case"Low":return 3;case"Average":return 4;case"High":return 6;default:throw new Error(`Unknown complexity: ${e}`)}}function z(e){switch(e){case"Low":return 4;case"Average":return 5;case"High":return 7;default:throw new Error(`Unknown complexity: ${e}`)}}var Z,ee;(function(e){e["ExternalInput"]="EI",e["ExternalOutput"]="EO",e["ExternalInquiry"]="EQ"})(Z||(Z={})),function(e){e["InternalLogicalFile"]="ILF",e["ExternalInterfaceFile"]="EIF",e["RecordElementType"]="RET"}(ee||(ee={}));const le=/CREATE TABLE IF NOT EXISTS\s+"([\w_]+)"\s*\(([\s\S]+?)\);/g,te=/"([\w_]+)"\s+([\w]+)/g;class ae{constructor(){(0,W.A)(this,"logicalFiles",[]),(0,W.A)(this,"elementaryProcesses",[])}readSQL(e){let l;this.logicalFiles=[];while(null!==(l=le.exec(e))){const e=l[2].toString();let t;this.logicalFiles.push({name:l[1].toString(),type:ee.InternalLogicalFile,dataElements:[]});while(null!==(t=te.exec(e)))this.logicalFiles[this.logicalFiles.length-1].dataElements.push({name:t[1].toString(),dtype:t[2].toString()})}}addLF(e,l,t,a,n){this.logicalFiles.some((l=>l.name===e))?console.warn(`Logical File with name "${e}" already exists. Skipping addition.`):this.logicalFiles.push({name:e,type:l,dataElements:t,description:a,parentName:n})}addDescriptionToLF(e,l){const t=this.logicalFiles.find((l=>l.name===e));t?t.description=l:console.error(`Logical File "${e}" not found. Cannot add description.`)}addDataElementToLF(e,l){const t=this.logicalFiles.find((l=>l.name===e));t?t.dataElements.some((e=>e.name===l.name))?console.warn(`Data Element "${l.name}" already exists in Logical File "${e}". Skipping addition.`):t.dataElements.push(l):console.error(`Logical File "${e}" not found. Cannot add data element.`)}removeLF(e){this.elementaryProcesses.forEach((l=>{l.dataElements=l.dataElements.filter((l=>l.name!==e))})),this.logicalFiles=this.logicalFiles.filter((l=>l.type!==ee.RecordElementType&&l.parentName!==e)),this.logicalFiles=this.logicalFiles.filter((l=>l.name!==e))}removeDataElementFromLF(e,l){const t=this.logicalFiles.find((l=>l.name===e));t?(this.elementaryProcesses.forEach((t=>{t.dataElements=t.dataElements.filter((t=>!(t.logicalFileName===e&&t.name===l)))})),t.dataElements=t.dataElements.filter((e=>e.name!==l))):console.error(`Logical File "${e}" not found. Cannot remove data element.`)}getLFs(){return this.logicalFiles}addEP(e,l,t){for(const{name:n,logicalFileName:o}of t){const l=this.logicalFiles.find((e=>e.name===o));if(!l)return void console.error(`Logical File "${o}" referenced in Elementary Process "${e}" does not exist.`);for(const t of l.dataElements)if(!l.dataElements.some((e=>e.name===t.name)))return void console.error(`Data Element "${t.name}" in Logical File "${o}" referenced in Elementary Process "${e}" does not exist.`)}const a=`${l}_${this.elementaryProcesses.filter((e=>e.type===l)).length+1}`;this.elementaryProcesses.push({id:a,description:e,type:l,dataElements:t})}getEPs(){return this.elementaryProcesses}removeEP(e){this.elementaryProcesses=this.elementaryProcesses.filter((l=>l.id!==e))}removeDETsFromEP(e,l,t){const a=this.elementaryProcesses.find((l=>l.id===e));a?a.dataElements=a.dataElements.filter((e=>!(e.logicalFileName===l&&e.name===t))):console.error(`Elementary Process "${e}" not found. Cannot remove DET.`)}addDETToEP(e,l){const t=this.elementaryProcesses.find((l=>l.id===e));if(!t)return void console.error(`Elementary Process "${e}" not found. Cannot add DET.`);const a=this.logicalFiles.find((e=>e.name===l.logicalFileName));a?a.dataElements.some((e=>e.name===l.name))?t.dataElements.some((e=>e.logicalFileName===l.logicalFileName&&e.name===l.name))?console.warn(`DET "${l.name}" from "${l.logicalFileName}" already exists in EP "${e}". Skipping addition.`):t.dataElements.push(l):console.error(`Data Element "${l.name}" in Logical File "${l.logicalFileName}" referenced in Elementary Process "${t.description}" does not exist.`):console.error(`Logical File "${l.logicalFileName}" referenced in Elementary Process "${t.description}" does not exist.`)}evaluateFPs(){this.logicalFiles.forEach((e=>e.FPs=0)),this.elementaryProcesses.forEach((e=>e.FPs=0)),this.logicalFiles.forEach((e=>{if(e.type===ee.RecordElementType)return;let l=1,t=0,a="Low";this.logicalFiles.forEach((a=>{a.type===ee.RecordElementType&&a.parentName===e.name&&(l++,t+=a.dataElements.length)})),1===l?a=e.dataElements.length+t<50?"Low":"Average":l<=5?(a=e.dataElements.length+t<20?"Low":"Average",a=e.dataElements.length+t<50?a:"High"):a=e.dataElements.length+t<50?"Average":"High",e.FPs=e.type===ee.InternalLogicalFile?Y(a):H(a)})),this.elementaryProcesses.forEach((e=>{let l="Low";const t=new Set(e.dataElements.map((e=>e.logicalFileName))).size,a=e.dataElements.length;l=e.type===Z.ExternalInput?1===t?a<5?"Low":"Average":2===t&&a<5?"Low":a<15?"Average":"High":1===t?a<20?"Low":"Average":2===t&&a<7?"Low":a<20?"Average":"High",e.FPs=e.type===Z.ExternalInquiry?z(l):G(l)}))}getTotalFPs(){const e=this.logicalFiles.reduce(((e,l)=>e+(l.FPs||0)),0),l=this.elementaryProcesses.reduce(((e,l)=>e+(l.FPs||0)),0);return e+l}optimizeLFs(){}exportAsJSON(){return JSON.parse(JSON.stringify({logicalFiles:this.logicalFiles,elementaryProcesses:this.elementaryProcesses}))}importFromJSON(e){const l=JSON.parse(JSON.stringify(e));this.logicalFiles=l.logicalFiles||[],this.elementaryProcesses=l.elementaryProcesses||[]}}var ne=(0,n.pM)({name:"LogicalFiles",props:{FPA:{type:ae,required:!0},triggerRefresh:{type:Number,required:!1,default:0}},emits:["refreshLFs"],setup(e,{emit:l}){const t=(0,u.KR)(0),a=(0,u.KR)(""),o=(0,u.KR)({name:"",type:ee.InternalLogicalFile,dataElements:[{name:"",dtype:""}],description:"",parentName:""}),s=(0,u.KR)({}),i=(0,n.EW)((()=>(t.value,e.FPA.getLFs()))),r=()=>{i.value.forEach((e=>{s.value[e.name]||(s.value[e.name]={name:"",dtype:""})}))},c=()=>{t.value++,r(),l("refreshLFs")},d=e=>{s.value[e]&&(s.value[e].name="",s.value[e].dtype="")},m=()=>{if(a.value.trim())try{e.FPA.readSQL(a.value),c(),console.log("Successfully parsed SQL and found logical files:",i.value)}catch(l){console.error("Error parsing SQL:",l)}else console.warn("SQL input is empty")},p=(l,t,a,n,i)=>{if(l.trim())if(a.length&&a[0]?.name?.trim()&&a[0]?.dtype?.trim()){if(t===ee.RecordElementType){if(!i?.trim())return void console.warn("Parent logical file name is required for Record Element Type");if(!e.FPA.getLFs().some((e=>e.name===i.trim())))return void console.warn(`Parent logical file "${i}" does not exist`)}if(e.FPA.getLFs().some((e=>e.name===l)))console.warn(`Logical file with name "${l}" already exists`);else try{e.FPA.addLF(l.trim(),t,a,n?.trim()||void 0,i?.trim()||void 0),s.value[l]={name:"",dtype:""},o.value={name:"",type:ee.InternalLogicalFile,dataElements:[{name:"",dtype:""}],description:"",parentName:""},c(),console.log(`Successfully added logical file: ${l}`)}catch(r){console.error("Error adding logical file:",r)}}else console.warn("At least one valid data element is required");else console.warn("Logical file name cannot be empty")},g=(l,t)=>{if(t.name.trim()&&t.dtype.trim())try{e.FPA.addDataElementToLF(l,{name:t.name.trim(),dtype:t.dtype.trim()}),d(l),c(),console.log(`Successfully added data element ${t.name} to ${l}`)}catch(a){console.error("Error adding data element:",a)}else console.warn("Data element name and type are required")},E=(l,t)=>{try{e.FPA.removeDataElementFromLF(l,t),c(),console.log(`Successfully removed data element ${t} from ${l}`)}catch(a){console.error("Error removing data element:",a)}},L=l=>{try{e.FPA.removeLF(l),c(),console.log(`Successfully removed logical file: ${l}`)}catch(t){console.error("Error removing logical file:",t)}},F=()=>{const{name:e,type:l,dataElements:t,description:a,parentName:n}=o.value,s=t.filter((e=>e.name.trim()&&e.dtype.trim()));e.trim()&&s.length?l!==ee.RecordElementType||n?.trim()?(console.log(`Creating new logical file: ${e} with data elements:`,s),p(e,l,s,a,n)):console.warn("Parent logical file name is required for Record Element Type"):console.warn("Logical file name and at least one data element are required")};return(0,n.wB)((()=>e.triggerRefresh),(()=>{t.value++,r()})),(0,n.sV)((()=>{r()})),{logicalFiles:i,sqlInput:a,newLogicalFileForm:o,newDataElements:s,parseSQL:m,createNewLogicalFile:F,addDataElementToLogicalFile:g,removeDataElementFromLogicalFile:E,removeLogicalFile:L,outdatedLFs:c,LFType:ee}}}),oe=t(1241);const se=(0,oe.A)(ne,[["render",B],["__scopeId","data-v-a3e633aa"]]);var ie=se;const re={class:"ep-container"},ce={class:"add-ep-section"},de={class:"new-ep-form"},me={class:"form-row"},ue={class:"form-group"},pe={class:"form-group"},ge=["value"],Ee={class:"form-actions"},Le=["disabled"],Fe={class:"ep-list-section"},fe={key:0,class:"no-eps-message"},he={key:1,class:"ep-grid"},ye={class:"ep-table"},ke={class:"table-title"},ve={colspan:"3"},be=["onClick"],we={class:"det-name"},Pe={class:"det-type"},Te={class:"det-actions"},Ne=["onClick"],Ae={key:0,class:"add-det-row"},Ce=["onUpdate:modelValue"],Ie=["value"],Re=["onUpdate:modelValue","disabled"],De=["value"],Se={class:"det-actions"},Oe=["onClick","disabled"];function _e(e,l,t,s,i,r){return(0,n.uX)(),(0,n.CE)("div",re,[(0,n.Lk)("section",ce,[l[5]||(l[5]=(0,n.Lk)("h2",null,"Add New Elementary Process",-1)),(0,n.Lk)("div",de,[(0,n.Lk)("div",me,[(0,n.Lk)("div",ue,[l[3]||(l[3]=(0,n.Lk)("label",{for:"ep-description"},"Description",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"ep-description",class:"form-input","onUpdate:modelValue":l[0]||(l[0]=l=>e.newEPDescription=l),placeholder:"e.g., Register new user"},null,512),[[a.Jo,e.newEPDescription]])]),(0,n.Lk)("div",pe,[l[4]||(l[4]=(0,n.Lk)("label",{for:"ep-type"},"Type",-1)),(0,n.bo)((0,n.Lk)("select",{id:"ep-type",class:"form-input","onUpdate:modelValue":l[1]||(l[1]=l=>e.newEPType=l)},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.EPType,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e,value:e},(0,o.v_)(e),9,ge)))),128))],512),[[a.u1,e.newEPType]])]),(0,n.Lk)("div",Ee,[(0,n.Lk)("button",{onClick:l[2]||(l[2]=(...l)=>e.addEP&&e.addEP(...l)),class:"primary-button",disabled:!e.newEPDescription.trim()},"Add EP",8,Le)])])])]),(0,n.Lk)("section",Fe,[l[9]||(l[9]=(0,n.Lk)("h2",null,"Elementary Processes",-1)),0===e.elementaryProcesses.length?((0,n.uX)(),(0,n.CE)("div",fe," No elementary processes have been added yet. ")):((0,n.uX)(),(0,n.CE)("div",he,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.elementaryProcesses,(t=>((0,n.uX)(),(0,n.CE)("div",{key:t.id,class:"ep-card"},[(0,n.Lk)("table",ye,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",ke,[(0,n.Lk)("th",ve,[(0,n.Lk)("span",null,(0,o.v_)(t.description)+" ("+(0,o.v_)(t.id)+") - "+(0,o.v_)(t.type),1),(0,n.Lk)("button",{onClick:l=>e.removeEP(t.id),class:"danger-button small-button",style:{float:"right"}},"Remove EP",8,be)])]),l[6]||(l[6]=(0,n.Lk)("tr",{class:"column-header"},[(0,n.Lk)("th",null,"Logical File"),(0,n.Lk)("th",null,"Data Element"),(0,n.Lk)("th",null,"Actions")],-1))]),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(t.dataElements,(l=>((0,n.uX)(),(0,n.CE)("tr",{key:`${l.logicalFileName}_${l.name}`,class:"det-row"},[(0,n.Lk)("td",we,(0,o.v_)(l.logicalFileName),1),(0,n.Lk)("td",Pe,(0,o.v_)(l.name),1),(0,n.Lk)("td",Te,[(0,n.Lk)("button",{onClick:a=>e.removeDET(t.id,l.logicalFileName,l.name),class:"danger-button small-button"},"Remove",8,Ne)])])))),128)),e.detInputs[t.id]?((0,n.uX)(),(0,n.CE)("tr",Ae,[(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":l=>e.detInputs[t.id].logicalFile=l,class:"attribute-input"},[l[7]||(l[7]=(0,n.Lk)("option",{disabled:"",value:""},"Select Logical File",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.logicalFiles,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e.name,value:e.name},(0,o.v_)(e.name),9,Ie)))),128))],8,Ce),[[a.u1,e.detInputs[t.id].logicalFile]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":l=>e.detInputs[t.id].dataElement=l,class:"attribute-input",disabled:!e.detInputs[t.id].logicalFile},[l[8]||(l[8]=(0,n.Lk)("option",{disabled:"",value:""},"Select Data Element",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.availableDETs[e.detInputs[t.id].logicalFile]?.dataElements,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e.name,value:e.name},(0,o.v_)(e.name),9,De)))),128))],8,Re),[[a.u1,e.detInputs[t.id].dataElement]])]),(0,n.Lk)("td",Se,[(0,n.Lk)("button",{onClick:l=>e.addDET(t.id),class:"success-button small-button",disabled:!e.detInputs[t.id].dataElement},"Add DET",8,Oe)])])):(0,n.Q3)("",!0)])])])))),128))]))])])}var Xe=(0,n.pM)({name:"ElementaryProcesses",props:{FPA:{type:ae,required:!0},triggerRefresh:{type:Number,required:!0}},emits:["refreshEPs"],setup(e,{emit:l}){const t=(0,u.KR)(0),a=(0,u.KR)(""),o=(0,u.KR)(Z.ExternalInput),s=(0,u.KR)({});(0,n.wB)((()=>e.triggerRefresh),(()=>{t.value++}));const i=(0,n.EW)((()=>(t.value,e.FPA.getEPs()))),r=(0,n.EW)((()=>(t.value,e.FPA.getLFs()))),c=(0,n.EW)((()=>{const e={};return r.value.forEach((l=>{e[l.name]=l})),e})),d=()=>{t.value++,l("refreshEPs")},m=()=>{i.value.forEach((e=>{s.value[e.id]||(s.value[e.id]={logicalFile:"",dataElement:""})}))},p=()=>{a.value.trim()&&(e.FPA.addEP(a.value,o.value,[]),a.value="",o.value=Z.ExternalInput,d(),m())},g=l=>{e.FPA.removeEP(l),d()},E=l=>{const t=s.value[l];t&&t.logicalFile&&t.dataElement&&(e.FPA.addDETToEP(l,{name:t.dataElement,logicalFileName:t.logicalFile}),s.value[l]={logicalFile:"",dataElement:""},d())},L=(l,t,a)=>{e.FPA.removeDETsFromEP(l,t,a),d()};return(0,n.$u)((()=>{m()})),m(),{elementaryProcesses:i,logicalFiles:r,availableDETs:c,newEPDescription:a,newEPType:o,detInputs:s,addEP:p,removeEP:g,addDET:E,removeDET:L,EPType:Z}}});const Ue=(0,oe.A)(Xe,[["render",_e],["__scopeId","data-v-0fabf588"]]);var $e=Ue;const xe={class:"logical-files-container"},Ke={class:"logical-files-section"},Je={key:0,class:"no-files-message"},Qe={key:1,class:"logical-files-grid"},Ve={colspan:"2",class:"table-title"},qe=["title"],Me={colspan:"2",class:"table-title"},je={key:0},Be={colspan:"3",class:"lf-description-cell"},We={class:"dataElement-name"},Ye={class:"dataElement-type"},He={class:"elementary-processes-section"},Ge={key:0,class:"no-files-message"},ze={key:1,class:"logical-files-grid"},Ze={colspan:"3",class:"table-title"},el={class:"card-name"},ll={class:"FPs-contribution"},tl={class:"dataElement-name"},al={class:"dataElement-type"},nl={class:"end-of-analysis-section"};function ol(e,l,t,a,s,i){return(0,n.uX)(),(0,n.CE)("div",xe,[(0,n.Lk)("section",Ke,[l[4]||(l[4]=(0,n.Lk)("h2",null,"Logical Files",-1)),e.logicalFiles.length?((0,n.uX)(),(0,n.CE)("div",Qe,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.logicalFiles,(e=>((0,n.uX)(),(0,n.CE)("table",{key:e.name,class:"logical-file-table"},[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",Ve,[(0,n.Lk)("button",{class:"alert-button small-button",title:`Remove ${e.name}`},(0,o.v_)(e.type),9,qe),(0,n.eW)(" "+(0,o.v_)(e.name),1)]),(0,n.Lk)("th",Me,(0,o.v_)(e.FPs),1)]),e.description?((0,n.uX)(),(0,n.CE)("tr",je,[(0,n.Lk)("td",Be,[(0,n.Lk)("em",null,(0,o.v_)(e.description),1)])])):(0,n.Q3)("",!0),l[3]||(l[3]=(0,n.Lk)("tr",null,[(0,n.Lk)("th",{class:"column-header"},"Data Element Name"),(0,n.Lk)("th",{class:"column-header"},"Data Element Type"),(0,n.Lk)("th",{class:"column-header"},"Actions")],-1))]),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.dataElements,(e=>((0,n.uX)(),(0,n.CE)("tr",{key:e.name,class:"dataElement-row"},[(0,n.Lk)("td",We,(0,o.v_)(e.name),1),(0,n.Lk)("td",Ye,(0,o.v_)(e.dtype),1)])))),128))])])))),128))])):((0,n.uX)(),(0,n.CE)("div",Je,l[2]||(l[2]=[(0,n.Lk)("p",null,"No logical files found. Parse SQL code or add files manually.",-1)])))]),(0,n.Lk)("section",He,[l[7]||(l[7]=(0,n.Lk)("h2",null,"Elementary Processes",-1)),e.elementaryProcesses.length?((0,n.uX)(),(0,n.CE)("div",ze,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.elementaryProcesses,(e=>((0,n.uX)(),(0,n.CE)("table",{key:e.description,class:"logical-file-table"},[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",Ze,[(0,n.Lk)("div",el,(0,o.v_)(e.description),1),(0,n.Lk)("div",ll,(0,o.v_)(e.FPs),1)])]),l[6]||(l[6]=(0,n.Lk)("tr",null,[(0,n.Lk)("th",{class:"column-header"},"Data Element Name"),(0,n.Lk)("th",{class:"column-header"},"Data Element Type"),(0,n.Lk)("th",{class:"column-header"},"Actions")],-1))]),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.dataElements,(e=>((0,n.uX)(),(0,n.CE)("tr",{key:e.name,class:"dataElement-row"},[(0,n.Lk)("td",tl,(0,o.v_)(e.name),1),(0,n.Lk)("td",al,(0,o.v_)(e.logicalFileName),1)])))),128))])])))),128))])):((0,n.uX)(),(0,n.CE)("div",Ge,l[5]||(l[5]=[(0,n.Lk)("p",null,"No elementary processes found. Parse SQL code or add processes manually.",-1)])))]),(0,n.Lk)("section",nl,[l[9]||(l[9]=(0,n.Lk)("h2",null,"End of Analysis",-1)),l[10]||(l[10]=(0,n.Lk)("p",null," This section summarizes the Function Point Analysis results, including the total number of logical files, elementary processes, and their contributions to the overall function points. ",-1)),(0,n.Lk)("p",null,[(0,n.eW)(" Total Logical Files: "+(0,o.v_)(e.logicalFiles.length),1),l[8]||(l[8]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" Total Elementary Processes: "+(0,o.v_)(e.elementaryProcesses.length),1)]),(0,n.Lk)("button",{class:"primary-button",onClick:l[0]||(l[0]=(...l)=>e.downloadJSON&&e.downloadJSON(...l))}," Download JSON "),l[11]||(l[11]=(0,n.Lk)("input",{type:"file",id:"fileInput"},null,-1)),(0,n.Lk)("button",{class:"primary-button",onClick:l[1]||(l[1]=(...l)=>e.importFromJSON&&e.importFromJSON(...l))}," Import from JSON ")])])}t(4603),t(7566),t(8721);var sl=(0,n.pM)({name:"EndOfAnalysis",props:{FPA:{type:ae,required:!0},refreshTrigger:{type:Number,default:0}},setup(e,{emit:l}){const t=(0,u.KR)(0),a=(0,n.EW)((()=>(t.value,e.FPA.evaluateFPs(),e.FPA.getLFs()))),o=(0,n.EW)((()=>(t.value,e.FPA.evaluateFPs(),e.FPA.getEPs())));function s(){const l=new Blob([JSON.stringify(e.FPA.exportAsJSON())],{type:"application/json"}),t=URL.createObjectURL(l),a=document.createElement("a");a.href=t,a.download="Function Point Analysis.json",a.click(),URL.revokeObjectURL(t)}function i(){const l=document.getElementById("fileInput");if(l.files&&l.files.length>0){const a=l.files[0],n=new FileReader;n.onload=l=>{try{const a=JSON.parse(l.target?.result);e.FPA.importFromJSON(a),t.value++}catch(a){console.error("Error importing JSON:",a)}},n.readAsText(a)}}return(0,n.wB)((()=>e.refreshTrigger),(()=>{t.value++})),{logicalFiles:a,elementaryProcesses:o,downloadJSON:s,importFromJSON:i,LFType:ee}}});const il=(0,oe.A)(sl,[["render",ol],["__scopeId","data-v-4254b5f8"]]);var rl=il,cl=(0,n.pM)({name:"App",components:{LogicalFiles:ie,ElementaryProcesses:$e,EndOfAnalysis:rl},setup(){const e=new ae,l=(0,u.KR)(0),t=(0,u.KR)(0),a=(0,u.KR)(""),o=(0,u.KR)(!1),s=(0,n.EW)((()=>e.getLFs())),i=(0,n.EW)((()=>s.value.reduce(((e,l)=>e+l.dataElements.length),0))),r=()=>{console.log("Logical files updated:",e.getLFs()),a.value=(new Date).toLocaleTimeString(),l.value++},c=()=>{console.log("Elementary processes updated:",e.getEPs()),a.value=(new Date).toLocaleTimeString(),t.value++},d=()=>{o.value=!o.value},m=()=>{const l='\n        CREATE TABLE IF NOT EXISTS "Mensagem_Inicial" (\n            "id" INTEGER NOT NULL UNIQUE,\n            "Texto" TEXT,\n            PRIMARY KEY("id")\n          );\n          CREATE TABLE IF NOT EXISTS "Categoria" (\n            "id" INTEGER NOT NULL UNIQUE,\n            "Nome_da_categoria" TEXT,\n            PRIMARY KEY("id")\n          );\n          CREATE TABLE IF NOT EXISTS "Mensagem_da_categoria" (\n            "id" INTEGER NOT NULL UNIQUE,\n            "ID_Categoria" INTEGER,\n            "Texto" TEXT,\n            "Resposta" TEXT,\n            PRIMARY KEY("id"),\n            FOREIGN KEY ("id") REFERENCES "Categoria"("id")\n            ON UPDATE NO ACTION ON DELETE NO ACTION\n          );\n          CREATE TABLE IF NOT EXISTS "Acao" (\n            "id" INTEGER NOT NULL UNIQUE,\n            "tipo" TEXT,\n            "Valor" TEXT,\n            "Mensagem" INTEGER,\n            PRIMARY KEY("id"),\n            FOREIGN KEY ("Mensagem") REFERENCES "Mensagem_da_categoria"("id")\n            ON UPDATE NO ACTION ON DELETE NO ACTION\n          );\n      ';e.readSQL(l),r()};return(0,n.wB)(s,((e,l)=>{console.log("Logical files changed:",{previous:l?.length||0,current:e.length,difference:e.length-(l?.length||0)})}),{deep:!0}),(0,n.sV)((()=>{console.log("App component mounted")})),{fpaInstance:e,refreshLFs:l,refreshEPs:t,handleLFsUpdate:r,handleEPsUpdate:c,showDebugInfo:o,toggleDebugInfo:d,currentLogicalFiles:s,totalAttributes:i,lastUpdateTime:a,loadSampleData:m}}});const dl=(0,oe.A)(cl,[["render",m]]);var ml=dl,ul=t(4458);(0,ul.k)("/Simple_FPs/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}}),(0,a.Ef)(ml).mount("#app")}},l={};function t(a){var n=l[a];if(void 0!==n)return n.exports;var o=l[a]={exports:{}};return e[a].call(o.exports,o,o.exports,t),o.exports}t.m=e,function(){var e=[];t.O=function(l,a,n,o){if(!a){var s=1/0;for(d=0;d<e.length;d++){a=e[d][0],n=e[d][1],o=e[d][2];for(var i=!0,r=0;r<a.length;r++)(!1&o||s>=o)&&Object.keys(t.O).every((function(e){return t.O[e](a[r])}))?a.splice(r--,1):(i=!1,o<s&&(s=o));if(i){e.splice(d--,1);var c=n();void 0!==c&&(l=c)}}return l}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[a,n,o]}}(),function(){t.n=function(e){var l=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(l,{a:l}),l}}(),function(){t.d=function(e,l){for(var a in l)t.o(l,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:l[a]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,l){return Object.prototype.hasOwnProperty.call(e,l)}}(),function(){var e={524:0};t.O.j=function(l){return 0===e[l]};var l=function(l,a){var n,o,s=a[0],i=a[1],r=a[2],c=0;if(s.some((function(l){return 0!==e[l]}))){for(n in i)t.o(i,n)&&(t.m[n]=i[n]);if(r)var d=r(t)}for(l&&l(a);c<s.length;c++)o=s[c],t.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return t.O(d)},a=self["webpackChunksimple_fpa"]=self["webpackChunksimple_fpa"]||[];a.forEach(l.bind(null,0)),a.push=l.bind(null,a.push.bind(a))}();var a=t.O(void 0,[504],(function(){return t(2937)}));a=t.O(a)})();
//# sourceMappingURL=app.497baf8c.js.map
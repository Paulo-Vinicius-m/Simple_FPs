(function(){"use strict";var e={6023:function(e,t,l){var n=l(5130),a=l(6768),r=l(4232);const i={id:"app"},o={class:"app-main"},s={key:0,class:"debug-section"},u={class:"app-footer"};function c(e,t,l,n,c,d){const m=(0,a.g2)("LogicalFiles");return(0,a.uX)(),(0,a.CE)("div",i,[t[3]||(t[3]=(0,a.Lk)("header",{class:"app-header"},[(0,a.Lk)("h1",null,"Function Point Analysis Tool"),(0,a.Lk)("p",null,"Manage and analyze logical files for your software projects")],-1)),(0,a.Lk)("main",o,[(0,a.bF)(m,{FPA:e.fpaInstance,refreshTrigger:e.refreshCounter,onReadSQL:e.handleLogicalFilesUpdate},null,8,["FPA","refreshTrigger","onReadSQL"]),e.showDebugInfo?((0,a.uX)(),(0,a.CE)("section",s,[t[2]||(t[2]=(0,a.Lk)("h2",null,"Debug Information",-1)),(0,a.Lk)("details",null,[(0,a.Lk)("summary",null,"Current Logical Files ("+(0,r.v_)(e.currentLogicalFiles.length)+")",1),(0,a.Lk)("pre",null,(0,r.v_)(JSON.stringify(e.currentLogicalFiles,null,2)),1)]),(0,a.Lk)("details",null,[t[1]||(t[1]=(0,a.Lk)("summary",null,"Component State",-1)),(0,a.Lk)("ul",null,[(0,a.Lk)("li",null,"Refresh Counter: "+(0,r.v_)(e.refreshCounter),1),(0,a.Lk)("li",null,"Last Update: "+(0,r.v_)(e.lastUpdateTime),1),(0,a.Lk)("li",null,"Total Attributes: "+(0,r.v_)(e.totalAttributes),1)])])])):(0,a.Q3)("",!0)]),(0,a.Lk)("footer",u,[(0,a.Lk)("button",{onClick:t[0]||(t[0]=(...t)=>e.toggleDebugInfo&&e.toggleDebugInfo(...t)),class:(0,r.C4)(["debug-toggle",{active:e.showDebugInfo}])},(0,r.v_)(e.showDebugInfo?"Hide":"Show")+" Debug Info ",3)])])}l(8111),l(8237);var d=l(144);const m={class:"logical-files-container"},p={class:"sql-parser-section"},g={class:"input-group"},f=["disabled"],L={class:"logical-files-section"},b={key:0,class:"no-files-message"},h={key:1,class:"logical-files-grid"},F={colspan:"3",class:"table-title"},v={class:"attribute-name"},k={class:"attribute-type"},y={class:"attribute-actions"},E=["onClick","title"],w={class:"add-attribute-row"},A=["onUpdate:modelValue"],T=["onUpdate:modelValue"],I=["onClick","disabled"],S={class:"add-logical-file-section"},N={class:"new-lf-form"},C={class:"form-row"},U={class:"form-group"},x={class:"form-row"},R={class:"form-group"},P={class:"form-group"},O={class:"form-actions"},_=["disabled"];function Q(e,t,l,i,o,s){return(0,a.uX)(),(0,a.CE)("div",m,[(0,a.Lk)("section",p,[t[6]||(t[6]=(0,a.Lk)("h2",null,"SQL Parser",-1)),(0,a.Lk)("div",g,[(0,a.bo)((0,a.Lk)("textarea",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.sqlInput=t),class:"sql-input",placeholder:"Copy your SQL code here...",rows:"4"},null,512),[[n.Jo,e.sqlInput]]),(0,a.Lk)("button",{onClick:t[1]||(t[1]=(...t)=>e.parseSQL&&e.parseSQL(...t)),class:"primary-button",disabled:!e.sqlInput.trim()}," Find Logical Files ",8,f)])]),(0,a.Lk)("section",L,[t[9]||(t[9]=(0,a.Lk)("h2",null,"Logical Files",-1)),e.logicalFiles.length?((0,a.uX)(),(0,a.CE)("div",h,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.logicalFiles,(l=>((0,a.uX)(),(0,a.CE)("table",{key:l.name,class:"logical-file-table"},[(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("th",F,(0,r.v_)(l.name),1)]),t[8]||(t[8]=(0,a.Lk)("tr",null,[(0,a.Lk)("th",{class:"column-header"},"Attribute Name"),(0,a.Lk)("th",{class:"column-header"},"Attribute Type"),(0,a.Lk)("th",{class:"column-header"},"Actions")],-1))]),(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.attributes,(t=>((0,a.uX)(),(0,a.CE)("tr",{key:t.name,class:"attribute-row"},[(0,a.Lk)("td",v,(0,r.v_)(t.name),1),(0,a.Lk)("td",k,(0,r.v_)(t.dtype),1),(0,a.Lk)("td",y,[(0,a.Lk)("button",{onClick:n=>e.removeAttributeFromLogicalFile(l.name,t.name),class:"danger-button small-button",title:`Remove ${t.name} from ${l.name}`}," Remove ",8,E)])])))),128)),(0,a.Lk)("tr",w,[(0,a.Lk)("td",null,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t=>e.attributeInputs[l.name].name=t,type:"text",class:"attribute-input",placeholder:"Attribute Name",maxlength:"50"},null,8,A),[[n.Jo,e.attributeInputs[l.name].name]])]),(0,a.Lk)("td",null,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t=>e.attributeInputs[l.name].dtype=t,type:"text",class:"attribute-input",placeholder:"Attribute Type",maxlength:"30"},null,8,T),[[n.Jo,e.attributeInputs[l.name].dtype]])]),(0,a.Lk)("td",null,[(0,a.Lk)("button",{onClick:t=>e.addAttributeToLogicalFile(l.name,e.attributeInputs[l.name]),class:"success-button small-button",disabled:!e.attributeInputs[l.name]?.name?.trim()||!e.attributeInputs[l.name]?.dtype?.trim(),title:"Add new attribute"}," Add ",8,I)])])])])))),128))])):((0,a.uX)(),(0,a.CE)("div",b,t[7]||(t[7]=[(0,a.Lk)("p",null,"No logical files found. Parse SQL code or add files manually.",-1)])))]),(0,a.Lk)("section",S,[t[13]||(t[13]=(0,a.Lk)("h2",null,"Add New Logical File",-1)),(0,a.Lk)("div",N,[(0,a.Lk)("div",C,[(0,a.Lk)("div",U,[t[10]||(t[10]=(0,a.Lk)("label",{for:"newLfName"},"Logical File Name:",-1)),(0,a.bo)((0,a.Lk)("input",{id:"newLfName","onUpdate:modelValue":t[2]||(t[2]=t=>e.newLogicalFileForm.name=t),type:"text",class:"form-input",placeholder:"Enter logical file name",maxlength:"50"},null,512),[[n.Jo,e.newLogicalFileForm.name]])])]),(0,a.Lk)("div",x,[(0,a.Lk)("div",R,[t[11]||(t[11]=(0,a.Lk)("label",{for:"newAttributeName"},"First Attribute Name:",-1)),(0,a.bo)((0,a.Lk)("input",{id:"newAttributeName","onUpdate:modelValue":t[3]||(t[3]=t=>e.newLogicalFileForm.attribute.name=t),type:"text",class:"form-input",placeholder:"Enter attribute name",maxlength:"50"},null,512),[[n.Jo,e.newLogicalFileForm.attribute.name]])]),(0,a.Lk)("div",P,[t[12]||(t[12]=(0,a.Lk)("label",{for:"newAttributeType"},"First Attribute Type:",-1)),(0,a.bo)((0,a.Lk)("input",{id:"newAttributeType","onUpdate:modelValue":t[4]||(t[4]=t=>e.newLogicalFileForm.attribute.dtype=t),type:"text",class:"form-input",placeholder:"Enter attribute type",maxlength:"30"},null,512),[[n.Jo,e.newLogicalFileForm.attribute.dtype]])])]),(0,a.Lk)("div",O,[(0,a.Lk)("button",{onClick:t[5]||(t[5]=(...t)=>e.createNewLogicalFile&&e.createNewLogicalFile(...t)),class:"primary-button",disabled:!e.newLogicalFileForm.name.trim()||!e.newLogicalFileForm.attribute.name.trim()||!e.newLogicalFileForm.attribute.dtype.trim()}," Add Logical File ",8,_)])])])])}l(7588);var $=l(1114);l(4114),l(2489),l(116),l(3579);var D;(function(e){e["ExternalInput"]="External Input",e["ExternalOutput"]="External Output",e["ExternalInquiry"]="External Inquiry"})(D||(D={}));const X=/CREATE TABLE IF NOT EXISTS\s+"([\w_]+)"\s*\(([\s\S]+?)\);/g,q=/"([\w_]+)"\s+([\w]+)/g;class K{constructor(){(0,$.A)(this,"logicalFiles",[]),(0,$.A)(this,"elementaryProcesses",[])}readSQL(e){let t;this.logicalFiles=[];while(null!==(t=X.exec(e))){const e=t[2].toString();let l;this.logicalFiles.push({name:t[1].toString(),attributes:[]});while(null!==(l=q.exec(e)))this.logicalFiles[this.logicalFiles.length-1].attributes.push({name:l[1].toString(),dtype:l[2].toString()})}}addLF(e,t){this.logicalFiles.some((t=>t.name===e))?console.warn(`Logical File with name "${e}" already exists. Skipping addition.`):this.logicalFiles.push({name:e,attributes:t})}addAttributeToLF(e,t){const l=this.logicalFiles.find((t=>t.name===e));l?l.attributes.some((e=>e.name===t.name))?console.warn(`Attribute "${t.name}" already exists in Logical File "${e}". Skipping addition.`):l.attributes.push(t):console.error(`Logical File "${e}" not found. Cannot add attribute.`)}removeLF(e){this.elementaryProcesses.forEach((t=>{t.referencedLFs=t.referencedLFs.filter((t=>t.name!==e))})),this.logicalFiles=this.logicalFiles.filter((t=>t.name!==e))}removeAttributeFromLF(e,t){const l=this.logicalFiles.find((t=>t.name===e));l?(this.elementaryProcesses.forEach((l=>{l.referencedLFs.forEach((l=>{l.name===e&&(l.attributes=l.attributes.filter((e=>e.name!==t)))}))})),l.attributes=l.attributes.filter((e=>e.name!==t))):console.error(`Logical File "${e}" not found. Cannot remove attribute.`)}getLFs(){return this.logicalFiles}addEP(e,t,l){if(this.elementaryProcesses.some((t=>t.description===e)))console.warn(`Elementary Process with description "${e}" already exists. Skipping addition.`);else{for(const t of l){if(!this.logicalFiles.some((e=>e.name===t.name)))return void console.error(`Logical File "${t.name}" referenced in Elementary Process "${e}" does not exist.`);for(const l of t.attributes)if(!this.logicalFiles.find((e=>e.name===t.name))?.attributes.some((e=>e.name===l.name)))return void console.error(`Attribute "${l.name}" in Logical File "${t.name}" referenced in Elementary Process "${e}" does not exist.`)}this.elementaryProcesses.push({description:e,type:t,referencedLFs:l})}}}var M=(0,a.pM)({name:"LogicalFiles",props:{FPA:{type:K,required:!0},refreshTrigger:{type:Number,default:0}},emits:["readSQL"],setup(e,{emit:t}){const l=(0,d.KR)(0),n=(0,d.KR)(""),r=(0,d.KR)({name:"",attribute:{name:"",dtype:""}}),i=(0,d.KR)({}),o=(0,a.EW)((()=>(l.value,e.FPA.getLFs()))),s=()=>{o.value.forEach((e=>{i.value[e.name]||(i.value[e.name]={name:"",dtype:""})}))},u=()=>{l.value++,s()},c=e=>{e.name="",e.attribute.name="",e.attribute.dtype=""},m=e=>{i.value[e]&&(i.value[e].name="",i.value[e].dtype="")},p=()=>{if(n.value.trim())try{e.FPA.readSQL(n.value),u(),t("readSQL"),console.log("Successfully parsed SQL and found logical files:",o.value)}catch(l){console.error("Error parsing SQL:",l)}else console.warn("SQL input is empty")},g=(l,n)=>{if(l.trim())if(n.length&&n[0]?.name?.trim()&&n[0]?.dtype?.trim())try{e.FPA.addLF(l.trim(),n),i.value[l]={name:"",dtype:""},c(r.value),u(),t("readSQL"),console.log(`Successfully added logical file: ${l}`)}catch(a){console.error("Error adding logical file:",a)}else console.warn("At least one valid attribute is required");else console.warn("Logical file name cannot be empty")},f=(l,n)=>{if(n.name.trim()&&n.dtype.trim())try{e.FPA.addAttributeToLF(l,{name:n.name.trim(),dtype:n.dtype.trim()}),m(l),u(),t("readSQL"),console.log(`Successfully added attribute ${n.name} to ${l}`)}catch(a){console.error("Error adding attribute:",a)}else console.warn("Attribute name and type are required")},L=(l,n)=>{try{e.FPA.removeAttributeFromLF(l,n),u(),t("readSQL"),console.log(`Successfully removed attribute ${n} from ${l}`)}catch(a){console.error("Error removing attribute:",a)}},b=()=>{const{name:e,attribute:t}=r.value;if(!e.trim()||!t.name.trim()||!t.dtype.trim())return void console.warn("All fields are required to create a new logical file");const l=[{...t}];g(e,l)};return(0,a.wB)((()=>e.refreshTrigger),(()=>{u()})),(0,a.sV)((()=>{s()})),{logicalFiles:o,sqlInput:n,newLogicalFileForm:r,attributeInputs:i,parseSQL:p,createNewLogicalFile:b,addAttributeToLogicalFile:f,removeAttributeFromLogicalFile:L,triggerUpdate:u}}}),V=l(1241);const j=(0,V.A)(M,[["render",Q],["__scopeId","data-v-0be7e95c"]]);var B=j,J=(0,a.pM)({name:"App",components:{LogicalFiles:B},setup(){const e=new K,t=(0,d.KR)(0),l=(0,d.KR)(""),n=(0,d.KR)(!1),r=(0,a.EW)((()=>e.getLFs())),i=(0,a.EW)((()=>r.value.reduce(((e,t)=>e+t.attributes.length),0))),o=()=>{console.log("Logical files updated:",r.value),l.value=(new Date).toLocaleTimeString(),t.value++},s=()=>{n.value=!n.value},u=()=>{const t='\n        CREATE TABLE IF NOT EXISTS "Users" (\n            "id" INTEGER NOT NULL UNIQUE,\n            "username" TEXT NOT NULL,\n            "email" TEXT NOT NULL,\n            "created_at" DATETIME DEFAULT CURRENT_TIMESTAMP,\n            PRIMARY KEY("id")\n        );\n        \n        CREATE TABLE IF NOT EXISTS "Posts" (\n            "id" INTEGER NOT NULL UNIQUE,\n            "user_id" INTEGER NOT NULL,\n            "title" TEXT NOT NULL,\n            "content" TEXT,\n            "published" BOOLEAN DEFAULT FALSE,\n            "created_at" DATETIME DEFAULT CURRENT_TIMESTAMP,\n            PRIMARY KEY("id"),\n            FOREIGN KEY("user_id") REFERENCES "Users"("id")\n        );\n      ';e.readSQL(t),o()};return(0,a.wB)(r,((e,t)=>{console.log("Logical files changed:",{previous:t?.length||0,current:e.length,difference:e.length-(t?.length||0)})}),{deep:!0}),(0,a.sV)((()=>{console.log("App component mounted")})),{fpaInstance:e,refreshCounter:t,handleLogicalFilesUpdate:o,showDebugInfo:n,toggleDebugInfo:s,currentLogicalFiles:r,totalAttributes:i,lastUpdateTime:l,loadSampleData:u}}});const Y=(0,V.A)(J,[["render",c]]);var G=Y,W=l(4458);(0,W.k)("/Simple_FPs/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}}),(0,n.Ef)(G).mount("#app")}},t={};function l(n){var a=t[n];if(void 0!==a)return a.exports;var r=t[n]={exports:{}};return e[n].call(r.exports,r,r.exports,l),r.exports}l.m=e,function(){var e=[];l.O=function(t,n,a,r){if(!n){var i=1/0;for(c=0;c<e.length;c++){n=e[c][0],a=e[c][1],r=e[c][2];for(var o=!0,s=0;s<n.length;s++)(!1&r||i>=r)&&Object.keys(l.O).every((function(e){return l.O[e](n[s])}))?n.splice(s--,1):(o=!1,r<i&&(i=r));if(o){e.splice(c--,1);var u=a();void 0!==u&&(t=u)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[n,a,r]}}(),function(){l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,{a:t}),t}}(),function(){l.d=function(e,t){for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};l.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,r,i=n[0],o=n[1],s=n[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(a in o)l.o(o,a)&&(l.m[a]=o[a]);if(s)var c=s(l)}for(t&&t(n);u<i.length;u++)r=i[u],l.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return l.O(c)},n=self["webpackChunksimple_fpa"]=self["webpackChunksimple_fpa"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=l.O(void 0,[504],(function(){return l(6023)}));n=l.O(n)})();
//# sourceMappingURL=app.82e6d069.js.map